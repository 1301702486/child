<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" content="multipart/form-data"/>
    <title>流浪宝贝 | 家寻宝贝填写</title>

    <!-- icon -->
    <link rel="shortcut icon" href="../static/images/favicon.ico" type="image/x-icon">

    <!-- css part -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="../static/css/style.css" rel="stylesheet">
    <link href="../static/css/animate.css" rel="stylesheet" media="all" type="text/css">
    <link href="../static/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- JS part-->
    <script src="../static/js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../static/js/main.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery.localScroll.min.js"></script>
    <script src="../static/js/jquery.scrollTo.min.js"></script>
    <script src="../static/js/SmoothScroll.js"></script>
    <script src="../static/js/wow.min.js"></script>
    <script src="../static/js/province.js" type="text/javascript"></script>

    <!-- 		ajax part
            <script type="text/javascript">
                var rootUrl = "http://192.168.151.1:8081";
                var findchildUrl = rootUrl + "/addParentFindChild";

                function findchild() {
                    // var data=new FormData($("#picture")[0]);
                    // console.log(data);
                    var photo = $("#imageInput").val();
                    var childname = $("#name").val();
                    var birth = $("#birthday").val();
                    var miss = $("#missingDate").val();
                    var gender = $("#gender").val();
                    var mprovince = $("#province").val();
                    var mcity = $("#city").val();
                    var marea = $("#area").val();
                    var mextra = $("#missingaddress").val();
                    var hprovince = $("#province").val();
                    var hcity = $("#city1").val();
                    var harea = $("#area1").val();
                    var hextra = $("#address1").val();
                    var eInfo = $("#extraInfo").val();

                    $.ajax({
                        type: "POST", //请求方式
                        url: findchildUrl,
                        dataType: "json", //数据，json字符串
                        processDate: false,
                        cententType: 'multipart/form-data',
                        data: {
                            "birthday": birth,
                            "detail": eInfo,
                            "emailAddr": "1234@qq.com",
                            "gender": gender,
                            "homeAddress.province": hprovince,
                            "homeAddress.city": hcity,
                            "homeAddress.district": harea,
                            "homeAddress.detail": hextra,
                            "missingAddress.province": hprovince,
                            "missingAddress.city": hcity,
                            "missingAddress.district": harea,
                            "missingAddress.detail": hextra,
                            "releasePhoto": photo,
                            "name": childname,
                            "missingDate": miss,
                        },
                        //请求成功
                        success: function(result) {
                            console.log(result);
                            if (result.code == 0) { // success
                                alert("发布成功！");
                                window.location.href = "index.html";
                            } else { //fail
                                alert(result.message);
                            }
                        },
                        //请求失败，包含具体的错误信息
                        error: function(e) {
                            alert(e.message);
                        }
                    });
                }
            </script> -->

</head>
<body id="page-top" class="index-page" onload='getProvince();getProvince1();'>
<div class="wrap-body">

    <!--////////////////////////////////////Header-->
    <header>
        <!---Main Header--->
        <div class="main-header">
            <div class="logo">
                <img src="../static/images/logo.png" class="img-responsive">
            </div>
            <!--Navigation-->
            <nav id="menu" class="navbar">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <span id="heading" class="visible-xs">目录</span>
                        <button type="button" class="btn btn-navbar navbar-toggle" data-toggle="collapse"
                                data-target=".navbar-ex1-collapse"><i
                                class="fa fa-bars"></i></button>
                    </div>
                    <div class="collapse navbar-collapse navbar-ex1-collapse">
                        <ul class="nav navbar-nav">
                            <li class="active"><a href="index.html">首页</a></li>
                            <li><a href="single.html">数据库</a></li>
                            <li><a href="prevention.html">防范指南</a></li>
                            <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">个人中心 <i
                                    class="fa fa-chevron-down"></i></a>
                                <div class="dropdown-menu" style="margin-left: -03.625px;">
                                    <div class="dropdown-inner">
                                        <ul class="list-unstyled">
                                            <li><a href="publish.html">我要发布</a></li>
                                            <li><a href="pInformation.html">个人信息</a></li>
                                            <li><a href="changePassword.html">修改密码</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li><a href="login.html">登录/注册</a></li>
                            <li><a href="contact.html">联系我们</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>

        <div class="hero-background">
            <!-- Static Header -->
            <div class="header-text">
                <div class="header-text-inner">
                    <h1>To publish</h1>
                </div>
            </div><!-- /header-text -->
        </div>
    </header>
    <!-- /Section: intro -->

    <!-- /////////////////////////////////////////Content -->
    <div>

        <section class="box-content box-6">
            <div class="container">

                <div class="heading wow fadeInUp" data-wow-delay=".1s" data-wow-duration="1s">
                    <h2>Publish Information</h2>
                    <hr class="line">
                </div>

                <div class="container">
                    <div class="content">
                        <div class="col-sm-10 col-sm-offset-1">
                            <form enctype="multipart/form-data" id="picture"
                                  action="http://192.168.151.1:8081/addParentFindChild" class="wow fadeInUp"
                                  data-wow-delay=".1s" data-wow-duration="1s"
                                  method="post">
                                上传照片：
                                <input type="file" accept="image/*" class="upload" name="releasePhoto" id='imageInput'
                                       onchange='loadImagesFile();'>
                                <img src='' id='imgsrc' style="width: 200px;height: 150px;" required>
                                <script>
                                    var loadImagesFile = (function () {
                                        if (window.FileReader) {
                                            var oPreviewImg = null,
                                                oFReader = new window.FileReader(),
                                                rFilter =
                                                    /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;
                                            oFReader.onload = function (oFREvent) {
                                                $('#imgsrc').attr('src', oFREvent.target.result).css('display', '');
                                            };
                                            return function () {
                                                var aFiles = document.getElementById("imageInput").files;
                                                if (aFiles.length === 0) {
                                                    return;
                                                }
                                                if (!rFilter.test(aFiles[0].type)) {
                                                    alert("你必须选择有效的图像文件!");
                                                    return;
                                                }
                                                oFReader.readAsDataURL(aFiles[0]);
                                            }
                                        }
                                    })();
                                </script>
                                <!-- </form>
                                <form id="contact_form" class="wow fadeInUp" data-wow-delay=".1s" data-wow-duration="1s" enctype="multipart/form-data"
                                 method="post"> -->
                                <div class="row">
                                    <!-- email -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            您的邮箱：<input type="text" name="emailAddr" id="name" class="form-control"
                                                        placeholder="Enter your email"
                                                        required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- name -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            孩子姓名：<input type="text" name="name" id="name" class="form-control"
                                                        placeholder="Enter child's name"
                                                        required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- birthday -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            出生时间：<input type="text" name="birthday" id="birthday" class="form-control"
                                                        placeholder="Enter child's birthday"
                                                        required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- missingDate -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            走失时间：<input type="text" name="missingDate" id="missingDate"
                                                        class="form-control" placeholder="Enter child's missing date"
                                                        required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- gender -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            性别：<select name="gender" id="gender" required>
                                            <option value="male">男性</option>
                                            <option value="female">女性</option>
                                        </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- missingAddrId -->
                                    <div class="col-md-12">
                                        <div class="form-group">走失地址：
                                            <!-- 						<script language="javascript" src="js/province.js" type="text/javascript" charset="utf-8"></script> -->
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <select id="province" name="missingAddress.province"
                                                            onchange="chooseProvince(this)" required>
                                                        <option value="1">请选择省</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4">
                                                    <select id="city" name="missingAddress.city"
                                                            onchange="chooseCity(this)" required>
                                                        <option value="2">请选择市</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4">
                                                    <select name="missingAddress.district" id="area" required>
                                                        <option value="3">请选择区</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- extra address -->
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <input type="text" name="missingAddress.detail" id="missingaddress"
                                                           class="form-control" placeholder="补充详细地址">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">

                                    <div class="col-md-12">
                                        <!-- homeAddrId -->
                                        <div class="form-group">家庭地址：
                                            <div class="row">

                                                <div class="col-md-4">
                                                    <select id="province1" name="homeAddress.province"
                                                            onchange="chooseProvince1(this)" required>
                                                        <option value="1">请选择省</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4">
                                                    <select id="city1" name="homeAddress.city"
                                                            onchange="chooseCity1(this)" required>
                                                        <option value="2">请选择市</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4">
                                                    <select name="homeAddress.district" id="area1" required>
                                                        <option value="3">请选择区</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- extra add -->
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <input type="text" name="homeAddress.detail" id="address"
                                                           class="form-control" placeholder="补充详细地址">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- more information -->
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            详情：<input type="text" name="detail" id="extraInfo" class="form-control"
                                                      placeholder="请写小孩的详细特征">
                                        </div>
                                        <!-- submit button -->
                                        <input type="submit" class="btn btn-skin btn-block" id="submit_btn">
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--////////////////////////////////////Footer-->
        <footer id="footer">
            <div class="container">
                <div class="wrap-footer">
                    <ul class="list-inline footer-link link">
                        <li><a href="https://www.baobeihuijia.com/Index.aspx">宝贝回家</a></li>
                        <li><a href="http://www.crotg.com/">守护者</a></li>
                        <li><a href="https://weibo.com/">新浪微博</a></li>
                        <li><a href="index.html">论坛</a></li>
                        <li><a href="contact.html">联系我们</a></li>
                    </ul>
                    <div class="copyright">
                        <span>Copyright © 2019 - Designed by Snail Team</span>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Footer -->
        <div><a href="#page-top" class="btn btn-toTop"><i class="fa fa-angle-double-up"></i></a></div>


    </div>
</div>
</body>
</html>
